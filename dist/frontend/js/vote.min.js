!function e(t,r,o){function n(u,s){if(!r[u]){if(!t[u]){var i="function"==typeof require&&require;if(!s&&i)return i(u,!0);if(c)return c(u,!0);var a=new Error("Cannot find module '"+u+"'");throw a.code="MODULE_NOT_FOUND",a}var l=r[u]={exports:{}};t[u][0].call(l.exports,(function(e){return n(t[u][1][e]||e)}),l,l.exports,e,t,r,o)}return r[u].exports}for(var c="function"==typeof require&&require,u=0;u<o.length;u++)n(o[u]);return n}({1:[function(e,t,r){t.exports=(e,t)=>{let r;if(window.XMLHttpRequest)r=new XMLHttpRequest,r.overrideMimeType&&r.overrideMimeType("application/json");else if(window.ActiveXObject)try{r=new ActiveXObject("Msxml2.XMLHTTP")}catch{try{r=new ActiveXObject("Microsoft.XMLHTTP")}catch{}}r?(r.onreadystatechange=()=>t(r),r.open("GET",e,!0),r.send(null)):console.log("Не вышло :( Невозможно создать экземпляр класса XMLHTTP ")}},{}],2:[function(e,t,r){const o=e("./request");function n(e){if(4==e.readyState)if(200==e.status){const t=JSON.parse(e.responseText);if(console.log(t),!t)return;const{condidateA:r,condidateB:o}=t,n=r.votes+o.votes,c=e=>n<=0?0:Math.round(e/n*100),u=e=>(i<=0&&a<=0?50:e)+"%",s=e=>e+"%",i=c(r.votes),a=c(o.votes);document.querySelector(".bar-user-a").style.width=u(i),document.querySelector(".bar-user-b").style.width=u(a),document.querySelector(".text-user-a").innerHTML=s(i),document.querySelector(".text-user-b").innerHTML=s(a),document.querySelector(".command-user-a").innerHTML=r.command,document.querySelector(".command-user-b").innerHTML=o.command}else console.log("С запросом возникла проблема. status: "+e.status)}setInterval(()=>{o("http://localhost/api/vote",n)},3e3)},{"./request":1}]},{},[2]);
//# sourceMappingURL=vote.min.js.map
